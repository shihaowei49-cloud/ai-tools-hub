#!/bin/bash

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "ğŸš€ AIå·¥å…·é›†æˆå¹³å° - Zeaburä¸€é”®éƒ¨ç½²è„šæœ¬"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# æ£€æŸ¥æ˜¯å¦åœ¨æ­£ç¡®çš„ç›®å½•
if [ ! -f "package.json" ]; then
    echo "âŒ é”™è¯¯ï¼šè¯·åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œæ­¤è„šæœ¬"
    exit 1
fi

echo "ğŸ“‹ è¯·é€‰æ‹©éƒ¨ç½²æ–¹å¼ï¼š"
echo ""
echo "1. GitHubä»“åº“éƒ¨ç½²ï¼ˆæ¨èâ­ï¼‰"
echo "   - éœ€è¦GitHubè´¦å·"
echo "   - æ”¯æŒè‡ªåŠ¨æŒç»­éƒ¨ç½²"
echo "   - ä¾¿äºç‰ˆæœ¬ç®¡ç†"
echo ""
echo "2. æŸ¥çœ‹è¯¦ç»†éƒ¨ç½²æŒ‡å—"
echo "   - æ‰“å¼€å®Œæ•´çš„éƒ¨ç½²æ–‡æ¡£"
echo ""
echo "3. æµ‹è¯•æœ¬åœ°æœåŠ¡å™¨"
echo "   - åœ¨æœ¬åœ°æµ‹è¯•ç½‘ç«™"
echo ""
read -p "è¯·è¾“å…¥é€‰é¡¹ï¼ˆ1-3ï¼‰: " choice

case $choice in
    1)
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“¦ GitHubä»“åº“éƒ¨ç½²å‘å¯¼"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo ""

        # æ£€æŸ¥æ˜¯å¦å·²é…ç½®GitHubè¿œç¨‹ä»“åº“
        if git remote get-url origin &> /dev/null; then
            echo "âœ… æ£€æµ‹åˆ°å·²é…ç½®çš„GitHubä»“åº“"
            git remote -v
            echo ""
            read -p "æ˜¯å¦æ¨é€åˆ°ç°æœ‰ä»“åº“ï¼Ÿ(y/n): " push_existing
            if [ "$push_existing" = "y" ]; then
                echo "ğŸ“¤ æ­£åœ¨æ¨é€ä»£ç ..."
                git push origin main
                echo ""
                echo "âœ… ä»£ç å·²æ¨é€åˆ°GitHubï¼"
            fi
        else
            echo "ğŸ“ è¯·å…ˆåˆ›å»ºGitHubä»“åº“ï¼š"
            echo ""
            echo "1. è®¿é—®: https://github.com/new"
            echo "2. ä»“åº“å: ai-tools-hub"
            echo "3. ä¸è¦å‹¾é€‰ä»»ä½•åˆå§‹åŒ–é€‰é¡¹"
            echo "4. åˆ›å»ºä»“åº“"
            echo ""
            read -p "ä»“åº“åˆ›å»ºå®Œæˆåï¼Œè¯·è¾“å…¥æ‚¨çš„GitHubç”¨æˆ·å: " github_user

            if [ -z "$github_user" ]; then
                echo "âŒ ç”¨æˆ·åä¸èƒ½ä¸ºç©º"
                exit 1
            fi

            echo ""
            echo "ğŸ”— æ­£åœ¨æ·»åŠ è¿œç¨‹ä»“åº“..."
            git remote add origin "https://github.com/$github_user/ai-tools-hub.git"

            echo "ğŸ“¤ æ­£åœ¨æ¨é€ä»£ç ..."
            git branch -M main
            git push -u origin main

            echo ""
            echo "âœ… ä»£ç å·²æ¨é€åˆ°GitHubï¼"
        fi

        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ¯ ä¸‹ä¸€æ­¥ï¼šåœ¨Zeaburå¯¼å…¥é¡¹ç›®"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo ""
        echo "1. è®¿é—® https://zeabur.com"
        echo "2. ç™»å½•ï¼ˆå¯ç”¨GitHubè´¦å·ï¼‰"
        echo "3. ç‚¹å‡» 'New Project' åˆ›å»ºé¡¹ç›®"
        echo "4. é€‰æ‹©åŒºåŸŸï¼ˆæ¨è Hong Kong æˆ– Singaporeï¼‰"
        echo "5. ç‚¹å‡» 'Add Service' â†’ 'Git'"
        echo "6. é€‰æ‹©æ‚¨çš„ ai-tools-hub ä»“åº“"
        echo "7. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆ1-2åˆ†é’Ÿï¼‰"
        echo "8. ç‚¹å‡» 'Networking' â†’ 'Generate Domain' è·å–ç½‘å€"
        echo ""
        echo "ğŸ“– è¯¦ç»†æ­¥éª¤è¯·æŸ¥çœ‹: ZEABURéƒ¨ç½²æŒ‡å—.md"
        echo ""

        read -p "æ˜¯å¦ç°åœ¨æ‰“å¼€Zeaburç½‘ç«™ï¼Ÿ(y/n): " open_zeabur
        if [ "$open_zeabur" = "y" ]; then
            open "https://zeabur.com"
        fi
        ;;

    2)
        echo ""
        echo "ğŸ“– æ­£åœ¨æ‰“å¼€éƒ¨ç½²æŒ‡å—..."
        open "ZEABURéƒ¨ç½²æŒ‡å—.md"
        ;;

    3)
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ§ª å¯åŠ¨æœ¬åœ°æµ‹è¯•æœåŠ¡å™¨"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo ""

        # æ£€æŸ¥ä¾èµ–
        if [ ! -d "node_modules" ]; then
            echo "ğŸ“¦ å®‰è£…ä¾èµ–..."
            npm install
        fi

        echo ""
        echo "ğŸš€ å¯åŠ¨æœåŠ¡å™¨..."
        echo "ğŸ“¡ è®¿é—®åœ°å€: http://localhost:3000"
        echo ""
        echo "æŒ‰ Ctrl+C åœæ­¢æœåŠ¡å™¨"
        echo ""
        npm start
        ;;

    *)
        echo "âŒ æ— æ•ˆçš„é€‰é¡¹"
        exit 1
        ;;
esac

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "âœ… æ“ä½œå®Œæˆï¼"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
